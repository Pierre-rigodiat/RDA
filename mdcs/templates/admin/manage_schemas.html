<!-- 
################################################################################
#
# File Name: manage_schemas.html
# Application: templates/admin
# Description: 
#
# Author: Sharief Youssef
#         sharief.youssef@nist.gov
#
# Sponsor: National Institue of Standards and Technology
#
################################################################################
-->

{% load staticfiles %}

{% load dajaxice_templatetags %}

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr">

<head>
	<meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
	<meta name="description" content=""/>
	<meta name="keywords" content="" />
	<meta name="author" content="" />
	<link rel="stylesheet" type="text/css" href="{% static 'resources/css/lib/bootstrap.min.css' %}"  media="screen" />
	<link rel="stylesheet" type="text/css" href="{% static 'style.css' %}" media="screen" />
	<title>Materials Data Curation System</title>

<link rel="stylesheet" type="text/css" href="{% static 'admin/css/dashboard.css' %}" />
<link rel="stylesheet" type="text/css" href="{% static 'resources/css/style.add.css' %}" media="screen" />
<link rel="stylesheet" type="text/css" href="{% static 'resources/css/xml_display.css' %}" media="screen" />
<link rel="stylesheet" type="text/css" href="{% static 'resources/css/icons.css' %}" media="screen" />
<link rel="stylesheet" type="text/css" href="{% static 'resources/css/table.css' %}" media="screen" />
<link rel="stylesheet" type="text/css" href="{% static 'resources/css/table.add.css' %}" media="screen" />
<link rel="stylesheet" type="text/css" href="{% static 'resources/css/dialog.css' %}" media="screen" />

	<!-- JQuery & JQuery UI -->
        <link rel="stylesheet" href="http://code.jquery.com/ui/1.10.3/themes/smoothness/jquery-ui.css">
        <script src="http://code.jquery.com/jquery-1.9.1.js"></script>
        <script src="http://code.jquery.com/ui/1.10.3/jquery-ui.js"></script>
	<script src="{% static 'dajax/jquery.dajax.core.js' %}"></script>

        {% dajaxice_js_import %}
</head>

<body id="top">

<div id="content-main">

<div id="header-wrapper">
	<div id="header-wrapper-2">
		<div class="center-wrapper">

			<div id="header">


				<div id="logo">


					<h1 id="site-title"><a href="/admin">Materials Data <span>Curation Administration</span></a></h1>
					<h2 id="site-slogan">
{% if user.is_authenticated %}
    Welcome, {{ user.username }}. Thanks for logging in.
{% else %}
    Part of the Materials Genome Initiative
{% endif %}
</h2>
				</div>

				<div id="help-wrapper">
					<div id="help" align="center">
<nobr>
{% if user.is_authenticated %}
    <a href="/logout">Logout</a> 
{% else %}
    <a href="/login">Login</a> 
{% endif %}

<span class="text-separator">|</span> <a href="/my-profile">My Profile</a> <span class="text-separator">|</span> <a href="/help">Help</a> 
</nobr>

					</div>
				</div>

			</div>

		</div>
	</div>
</div>

<div id="navigation-wrapper">
	<div id="navigation-wrapper-2">
		<div class="center-wrapper">
	
			<div id="navigation">

				<ul class="tabbed">
					<li><a href="/">Home</a></li>
					<li><a href="/admin/user-management">User Management</a></li>
					<li class="current_page_item"><a href="/admin/xml-schemas">XML Schemas</a></li>
				</ul>

				<div class="clearer">&nbsp;</div>

			</div>

		</div>
	</div>
</div>



<div id="subnav-wrapper">
  <div id="subnav-wrapper-2">

    <div class="center-wrapper">
      
      <div id="subnav">

	<ul class="tabbed">
	  <li><a href="/admin/xml-schemas/current-model">Current Model</a></li>
	  <li class="current_page_item"><a href="/admin/xml-schemas/manage-schemas">Manage Schemas</a></li>
	  <li><a href="/admin/xml-schemas/manage-modules">Manage Modules</a></li>
	  <li><a href="/admin/xml-schemas/manage-queries">Manage Queries</a></li>
	  </ul>

	<div class="clearer">&nbsp;</div>

	</div>

      </div>
    </div>
</div>


<div id="content-wrapper">
	<div class="center-wrapper">
		
		<div class="content">

			<div id="featured-wrapper">
				<div id="featured">

<h1>Schema Manager</h1>
					
					<div class="clearer">&nbsp;</div>

				</div>
			</div>

			<div id="main">

<div class="right-side">
<span class="ctx_menu">
<div class="icon legend long copy schema">Copy schema</div>
<div class="icon legend long upload schema">Upload schema</div>
</span>
</div>

		      <div id="model_selection">
		      
{% if request.session.currentTemplate %} 

{% else %}

<div class="warn"><div class="icon warning"></div>The system has no schema loaded. Please set a current model to allow user to use the repository.</div>

{% endif %}

<table class="data-table">
  <tr>
    <th>Schema name</th>
    <th>Filename</th>
    <th>Root element</th>
    <th>Status</th>
    <th>Actions</th>
  </tr>


{% for template in templates %}
  {% cycle 'even' '' as rowcolors silent %}
  <tr class="{{ rowcolors }}">
    <td>{{ template.title }}</td>
    <td>{{ template.filename }}</td>
    <td>Experiment</td>

{% if request.session.currentTemplate == template.filename %} 

    <td><span style="color:blue;font-weight:bold">Current model</span></td>
    <td><div class="icon legend delete">Delete</div></td>

{% else %}

    <td><span style="color:green;">Registered</span></td>
    <td><div class="icon legend extra-long add">Set as current model</div><div class="icon legend delete">Delete</div></td>

{% endif %}

  </tr>

{% endfor %}

</table>

<div id="dialog-message" title="Template Loaded" style="display:none;">
<p></p>
  <p>
    <span class="ui-icon ui-icon-circle-check" style="float:left; margin:0 7px 10px 0;"></span>
    Template selected successfully. 
  </p>
  <p>
    Currently using <a href="/view-schema/{{ request.session.currentTemplate }}" target="_new">{{ request.session.currentTemplate }}</a>
  </p>
  <p>
    To proceed to the next step, click on step 2: <b>'Enter Data'</b>
  </p>
</div>


</div>



<div class="right-side">
<span class="ctx_menu">
<div class="icon legend long copy schema">Copy schema</div>
<div class="icon legend long upload schema">Upload schema</div>
</span>
</div>

			</div>

		</div>

	</div>
</div>

<div id="footer-wrapper">

	<div class="center-wrapper">

		<div id="footer2">

			<div class="left">
				<a href="/admin">Home</a> <span class="text-separator">|</span> <a href="/admin/user-management">User Management</a> <span class="text-separator">|</span> <a href="/admin/xml-schemas">XML Schemas</a> <span class="text-separator">|</span> <a href="/about">About</a> <span class="text-separator">|</span> <a href="/contact">Contact</a> 
			</div>

			<div class="right">
				<a href="#">Top ^</a>
			</div>
			
			<div class="clearer">&nbsp;</div>

		</div>

	</div>

</div>

<div id="bottom">

	<div class="center-wrapper">

		<div class="left">
			&copy; 2012 - {{ request.session.currentYear }} Materials Data Curation System <span class="text-separator">|</span> <a href="/privacy-policy">Privacy Policy</a> <span class="text-separator">|</span> <a href="/terms-of-use">Terms of Use</a> 
		</div>

		<div class="right">
			<a href="http://templates.arcsin.se/">Website template</a> by <a href="http://arcsin.se/">Arcsin</a> 
		</div>
		
		<div class="clearer">&nbsp;</div>

	</div>

</div>

<script src="{% static 'resources/js/bootstrap.min.js' %}"></script>
<script src="{% static 'inc/controllers/js/xsd_mgr.js' %}"></script>
<script>
  loadXsdManagerHandler();
</script>


<div id="dialog-currentmodel-message" title="Model Selection Successful" style="display:none;">
<p></p>
  <p>
    <span class="ui-icon ui-icon-circle-check" style="float:left; margin:0 7px 10px 0;"></span>
    Current model selected successfully. 
  </p>
  <p>
    Currently using <a href="/view-schema/{{ request.session.currentTemplate }}" target="_new">{{ request.session.currentTemplate }}</a>
  </p>
</div>

<div id="dialog-copied-message" title="Copy Successful" style="display:none;">
<p></p>
  <p>
    <span class="ui-icon ui-icon-circle-check" style="float:left; margin:0 7px 10px 0;"></span>
    Schema copied successfully. 
  </p>
  <p>
    Currently using <a href="/view-schema/{{ request.session.currentTemplate }}" target="_new">{{ request.session.currentTemplate }}</a>
  </p>
</div>

<div id="dialog-upload-message" title="Upload Schema" style="display:none;">
<p></p>
  <p>

  </p>
</div>

<div id="dialog-deleteconfirm-message" title="Confirm Delete" style="display:none;">
<p></p>
  <p>
    <span class="ui-icon ui-icon-circle-check" style="float:left; margin:0 7px 10px 0;"></span>
    Are you sure you want to delete xxxxxx?
  </p>
</div>


</body>
</html>
